<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Testimonial Slider â€” Profil Lingkaran</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: #f8fafc; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    .testi-section { padding: 2.5rem 1rem; }
    .testi-track-wrap { overflow: hidden; position: relative; }

    .testi-track {
      display: flex;
      gap: 1rem;
      align-items: stretch;
      transition: transform 350ms ease;
      will-change: transform;
      padding: .25rem 0;
    }

    .testi-card {
      background: #ffffff;
      border-radius: 8px;
      padding: 1rem;
      box-shadow: 0 6px 18px rgba(15,23,42,0.06);
      border: 1px solid rgba(0,0,0,0.04);
      height: 100%;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
    }

    /* wrapper lingkaran warna di belakang foto */
    .avatar-wrapper {
      position: relative;
      width: 48px;
      height: 48px;
      flex-shrink: 0;
    }

    .avatar-bg {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 56px; /* sedikit lebih besar dari foto */
      height: 56px;
      border-radius: 50%;
      transform: translate(-50%, -50%);
      z-index: 0;
    }

    .avatar-img {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      object-fit: cover;
      position: relative;
      z-index: 1;
    }

    .testi-card .name-age {
      margin-left: 0.75rem;
    }

    .testi-card p { margin-top: 0.75rem; }
    .testi-card .badge {
      margin-top: auto;
      align-self: flex-start;
    }

    .testi-track > .col {
      flex: 0 0 auto;
      width: calc((100% - 3rem) / 4);
      max-width: calc((100% - 3rem) / 4);
    }

    .small.text-muted { color: #6c757d; font-size: .9rem; }
    .badge.bg-light.text-dark { border-radius: 6px; padding: .25rem .5rem; font-weight:600; font-size:.8rem; display:inline-block; }

    .testi-card:hover { transform: translateY(-6px); transition: transform .12s ease; }

    @media (max-width: 640px) {
      .testi-track > .col { width: calc((100% - 1rem) / 2); max-width: calc((100% - 1rem) / 2); }
    }
  </style>
</head>
<body>
  <section class="testi-section container">
    <h4 class="text-center fw-bold">Apa kata mereka?</h4>
    <p class="text-center text-muted">Pendapat teman-teman yang udah nyobain belajar di sini.</p>

    <div class="testi-track-wrap mt-3">
      <div id="testiTrack" class="testi-track"></div>
    </div>
  </section>

  <script>
    const pool = [
      { name: 'Nayla Putri', age: '22 tahun', text: 'Materinya mudah dipahami, gampang dicerna, dan pas buat belajar di sela kesibukan.', tag: 'Mahasiswa kreatif', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=layla&gender=female' },
      { name: 'Rizky Aditya', age: '24 tahun', text: 'Cara penyampaiannya simpel tapi ngena. Rasanya kayak lagi diceritain temen sendiri.', tag: 'Pecinta teknologi', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=RizkyAditya&gender=male' },
      { name: 'Kezia Anindya', age: '21 tahun', text: 'Visual dan materinya clean, gampang diikuti. Cocok banget buat yang pengen mulai tanpa ribet.', tag: 'UI/UX enthusiast', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Key&gender=female' },
      { name: 'Daffa Pratama', age: '23 tahun', text: 'Penyampaiannya casual, gak terlalu formal. Jadi betah aja mantengin videonya lama-lama.', tag: 'Anak kampus', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Pratama&gender=male' },
      { name: 'Aurel Safira', age: '25 tahun', text: 'Materinya nyambung banget sama kebutuhan anak muda sekarang, langsung terasa manfaatnya.', tag: 'Digital explorer', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Aurel&gender=female' },
      { name: 'Bintang Ramadhan', age: '22 tahun', text: 'Gak bikin pusing sama sekali, padahal biasanya topik gini berat banget.', tag: 'Content creator wannabe', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Ramadhan&gender=male' },
      { name: 'Citra Ayu', age: '20 tahun', text: 'Enak banget karena bisa ditonton kapan aja. Cocok buat sambil rebahan.', tag: 'Anime lover', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Citra&gender=female' },
      { name: 'Fajar Nugraha', age: '24 tahun', text: 'Materinya to the point, jadi lebih gampang fokus ke inti pembahasan.', tag: 'Mahasiswa akhir', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Fajarfatur&gender=male' },
      { name: 'Gita Maharani', age: '23 tahun', text: 'Suka karena materinya gak intimidating. Berasa kayak ngobrol santai tapi ilmunya tetap dapet.', tag: 'Casual learner', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Amalia&gender=female' },
      { name: 'Hafiz Alvaro', age: '21 tahun', text: 'Gampang banget dipahami, gak perlu background khusus. Cocok buat pemula.', tag: 'Music enthusiast', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Hafiz&gender=male' },

      // 10 tambahan
      { name: 'Intan Prameswari', age: '22 tahun', text: 'Video materinya singkat-singkat tapi jelas. Gampang banget kalau mau diulang.', tag: 'Creative soul', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=intancantik%27&gender=female' },
      { name: 'Jordi Mahendra', age: '25 tahun', text: 'Gak monoton sama sekali, ada variasi di tiap pembahasan.', tag: 'Digital learner', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=JordiAlba&gender=male' },
      { name: 'Kayla Novita', age: '20 tahun', text: 'Ringan banget cara bawanya. Bahkan pas lagi suntuk tetap bisa nikmatin.', tag: 'Casual dreamer', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Jordi&gender=male' },
      { name: 'Luthfi Akbar', age: '24 tahun', text: 'Cara belajar paling simple. Tinggal play dan langsung nyambung.', tag: 'Self learner', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Lutfia&gender=male' },
      { name: 'Maya Zahra', age: '23 tahun', text: 'Materinya relate sama dunia digital sekarang. Jadi ngerasa update terus.', tag: 'Casual explorer', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Lut&gender=female' },
      { name: 'Niko Pradana', age: '22 tahun', text: 'Penyampaiannya chill banget, kayak ngobrol santai tapi tetap nambah ilmu.', tag: 'Movie geek', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Anico&gender=male' },
      { name: 'Olia Meisya', age: '21 tahun', text: 'Gak terasa kayak belajar serius. Lebih kayak nonton konten hiburan.', tag: 'Trend seeker', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Oli&gender=female' },
      { name: 'Prasetyo Bagas', age: '25 tahun', text: 'Materinya dikemas rapi, gampang banget diikuti step by step.', tag: 'Tech enthusiast', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=RiskiFirnanda&gender=male' },
      { name: 'Qiana Rachma', age: '22 tahun', text: 'Belajarnya fleksibel, bisa disesuaikan sama pace sendiri.', tag: 'Digital native', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=sifahaju&gender=female' },
      { name: 'Rafa Pradipta', age: '24 tahun', text: 'Topiknya relevan banget sama kebutuhan sekarang.', tag: 'Casual techie', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Rafaansaputragede&gender=male' },

      // 5 terakhir
      { name: 'Selena Azzahra', age: '21 tahun', text: 'Vibe videonya chill tapi fokus, bikin betah belajar lebih lama.', tag: 'Art enthusiast', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=selen&gender=female' },
      { name: 'Iman', age: '23 tahun', text: 'Materinya jelas dan gak bikin bingung. Pas buat yang waktunya terbatas.', tag: 'Casual learner', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Tama&gender=male' },
      { name: 'Ulfa Salsabila', age: '22 tahun', text: 'Vibe-nya friendly, serasa belajar ditemenin temen sendiri.', tag: 'Young dreamer', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=ioqeuklj&gender=female' },
      { name: 'Vino Ardiansyah', age: '24 tahun', text: 'Walaupun materinya teknis, tetap bisa enjoy ngikutinnya.', tag: 'Casual explorer', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Vinogbastian&gender=male' },
      { name: 'Winda Kartika', age: '23 tahun', text: 'Materinya fresh, gak ketinggalan zaman, jadi lebih percaya diri.', tag: 'Casual creative', image: 'https://api.dicebear.com/7.x/avataaars/svg?seed=Winda&gender=female' }
    ];

    function shuffle(arr){
      const a = arr.slice();
      for(let i = a.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    const chosen = shuffle(pool).slice(0, 10);
    const track = document.getElementById('testiTrack');

    const colors = ['#FFD1DC','#D0E6A5','#A0E7E5','#FFB347','#B9AEDC','#FFABAB','#B5EAD7','#C7CEEA'];

    function createColCard(item){
      const col = document.createElement('div');
      col.className = 'col';
      const inner = document.createElement('div');
      inner.className = 'testi-card';
      const color = colors[Math.floor(Math.random()*colors.length)];
      inner.innerHTML = `
        <div class="d-flex align-items-center gap-3">
          <div class="avatar-wrapper">
            <div class="avatar-bg" style="background-color:${color};"></div>
            <img src="${item.image}" class="avatar-img" alt="${item.name}"/>
          </div>
          <div class="name-age">
            <strong>${item.name}</strong>
            <div class="small text-muted">${item.age}</div>
          </div>
        </div>
        <p class="mt-4 small text-muted">${item.text}</p>
        <div class="badge bg-dark text-light">${item.tag}</div>
      `;
      col.appendChild(inner);
      return col;
    }

    chosen.forEach(it => track.appendChild(createColCard(it)));
    chosen.forEach(it => track.appendChild(createColCard(it)));

    let index = 0;
    const totalOriginal = chosen.length;
    const STEP_MS = 2600;
    const TRANS_MS = 1000;

    function getColSize(){
      const col = track.querySelector('.col');
      if(!col) return 0;
      const rect = col.getBoundingClientRect();
      const gap = parseFloat(getComputedStyle(track).gap) || 16;
      return rect.width + gap;
    }

    function moveTo(i, withTransition = true){
      if(!withTransition){
        track.style.transition = 'none';
      } else {
        track.style.transition = `transform ${TRANS_MS}ms ease`;
      }
      const shift = i * getColSize();
      track.style.transform = `translateX(${-shift}px)`;
      if(!withTransition){
        requestAnimationFrame(()=>{ track.style.transition = `transform ${TRANS_MS}ms ease`; });
      }
    }

    let timer = null;
    function startAuto(){ stopAuto(); timer = setInterval(()=>{ index++; moveTo(index, true); }, STEP_MS); }
    function stopAuto(){ if(timer){ clearInterval(timer); timer = null; } }

    track.addEventListener('transitionend', ()=>{
      if(index >= totalOriginal){
        index = index - totalOriginal;
        moveTo(index, false);
      }
    });

    track.parentElement.addEventListener('mouseenter', stopAuto);
    track.parentElement.addEventListener('mouseleave', startAuto);

    let rt = null;
    window.addEventListener('resize', ()=>{ clearTimeout(rt); rt = setTimeout(()=> moveTo(index, false), 120); });

    setTimeout(()=>{
      index = 0;
      moveTo(0, false);
      startAuto();
    }, 60);

    window._testimonialSlider = { startAuto, stopAuto, getIndex: ()=>index, totalOriginal };
  </script>
</body>
</html>
